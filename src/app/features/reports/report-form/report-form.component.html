<div class="report-form-container">
    <header class="form-header">
      <h1>Nuevo Reporte de Mantenimiento</h1>
      <a routerLink="/inicio" routerLinkActive="active">Volver</a>        
    </header>
  
    <form [formGroup]="reportForm" (ngSubmit)="submitReport()">
      <div class="form-group">
        <label for="equipmentId">ID del Equipo</label>
        <input 
          type="text" 
          id="equipmentId" 
          formControlName="equipmentId" 
          placeholder="Ej. EQ-2024-001">
        <div class="error-message" *ngIf="reportForm.get('equipmentId')?.invalid && reportForm.get('equipmentId')?.touched">
          ID del equipo es requerido
        </div>
      </div>
  
      <div class="form-group">
        <label for="technician">T√©cnico</label>
        <input 
          type="text" 
          id="technician" 
          formControlName="technician" 
          placeholder="Nombre del t√©cnico">
        <div class="error-message" *ngIf="reportForm.get('technician')?.invalid && reportForm.get('technician')?.touched">
          Nombre del t√©cnico es requerido
        </div>
      </div>
  
      <div class="form-group">
        <label for="description">Descripci√≥n del Problema</label>
        <textarea 
          id="description" 
          formControlName="description" 
          rows="4" 
          placeholder="Describe el problema encontrado..."></textarea>
        <div class="error-message" *ngIf="reportForm.get('description')?.invalid && reportForm.get('description')?.touched">
          La descripci√≥n es requerida y debe tener al menos 10 caracteres
        </div>
      </div>
  
      <div class="photos-section">
        <h2>Fotograf√≠as</h2>
        <button type="button" class="camera-button" (click)="takePicture()">
          <span class="camera-icon">üì∑</span> Tomar Foto
        </button>
  
        <div class="photos-gallery" *ngIf="capturedPhotos.length > 0">
          <div class="photo-item" *ngFor="let photo of capturedPhotos; let i = index">
            <img [src]="photo" alt="Foto capturada">
            <button type="button" class="remove-photo" (click)="removePhoto(i)">√ó</button>
          </div>
        </div>
        
        <div class="empty-photos" *ngIf="capturedPhotos.length === 0">
          <p>No hay fotos capturadas. Pulse el bot√≥n "Tomar Foto" para a√±adir evidencias.</p>
        </div>
      </div>
  
      <div class="form-actions">
        <button 
          type="submit" 
          class="submit-button" 
          [disabled]="isSubmitting">
          {{ isSubmitting ? 'Guardando...' : 'Guardar Reporte' }}
        </button>
      </div>
    </form>
  </div>